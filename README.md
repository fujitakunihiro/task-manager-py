# Task Manager (Tkinter) ✅

**簡単なデスクトップ向けタスク／作業計測アプリケーション**

このリポジトリには、単純なGUIベースのタスク管理・作業計測アプリケーション（`scheduler.py`）が含まれています。
作業時間の計測、進捗管理、メモ保存、タスクの並び替え（ドラッグで移動）などの基本機能を提供します。

---

## 🔧 主な機能

- タスクの追加・編集・削除
- タスクごとの作業時間（累計）を計測（開始／停止）
- 進捗率（スライダー）による手動更新
- 作業メモの保存
- タスクの並び替え（ツリービュー上でドラッグ）
- データはローカルJSONファイル（`tasks_std_v24.json`）に保存

- タスク別の棒グラフ表示（メニュー > グラフ）。同一タスク名の合計で比較し、各バーはカテゴリ別の内訳を色分け（積み上げ表示）します。各積み上げ部分には内訳の時間が `00:00:00` 形式で表示され、バーの上部には合計時間（`00:00:00`）が表示されます。

  * 5件以上のタスクがある場合、左側にチェックボックス一覧が表示され、表示対象タスクを選択できます（デフォルトは全選択）。

  * 補足: 日本語が表示されない場合は OS に日本語フォントがインストールされているか確認してください。matplotlib は自動でフォントを探しますが、うまく見つからない場合は `pip install matplotlib` の後にフォントを追加する必要があります。

## ✅ 動作要件

- Python 3.8 以上（Windowsでの実行を想定）
- 標準の `tkinter` が必要（通常は標準ライブラリに含まれます）
- `matplotlib`（グラフ表示時に必要） — インストール例: `pip install matplotlib`

## 🚀 使い方

1. リポジトリをクローンまたはダウンロード
2. 必要に応じて仮想環境を作成
3. アプリを起動

```bash
python scheduler.py
```

Windows Powershell の場合:

```powershell
python .\scheduler.py
```

- タスクを選択して「計測開始」を押すとタイマーが動きます。
- 「計測停止」でその期間がそのタスクの累計時間に加算されます。
- 進捗はスライダーで調整し「更新」で保存、メモはテキスト欄から保存できます。

## 📂 データフォーマット（`tasks_std_v24.json`）

保存されるタスクは次のような構造の配列です（例の一要素）:

```json
{
  "name": "タスク名",
  "worker": "担当者",
  "estimate": "8",
  "start_date": "2025/12/01",
  "end_date": "2025/12/10",
  "actual_sec": 3600,
  "progress": 50,
  "memo": "作業メモの内容"
}
```

- `actual_sec`: 累計作業時間（秒）
- `progress`: 0〜100（%）

## ⚠️ 注意事項 / 既知の制限

- 複雑な競合や同期は考慮していません。複数インスタンス同時利用は推奨しません。
- 日付入力は年/月/日のそれぞれコンボボックスで選択しますが、厳密なバリデーションは行っていません。
- `tkinter` のUI調整は最小限に留めています。必要に応じてUI改善が可能です。

## ✍️ カスタマイズ案 / TODO

- タスクの検索／フィルタ機能
- CSV へのエクスポート／インポート
- 作業時間のグラフ表示

## 📝 ライセンス

特に明示していません。必要であれば `LICENSE` ファイルを追加してください。

---

ご要望があれば、README にスクリーンショットや細かい使い方（ショートカットや挙動の詳細）を追加できます。